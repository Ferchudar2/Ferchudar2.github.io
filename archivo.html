<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Iniciar sesión / Registro</title>
<style>
body {
    font-family: Arial;
    background: #0f2027;
    background: linear-gradient(to right, #2c5364, #203a43, #0f2027);
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.container {
    background: rgba(0, 0, 0, 0.8);
    padding: 30px;
    border-radius: 12px;
    width: 350px;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
}
h2 {
    text-align: center;
    margin-bottom: 20px;
}
input[type="text"], input[type="password"] {
    width: 100%;
    padding: 10px;
    margin: 6px 0;
    border: none;
    border-radius: 5px;
    background-color: #1b1b1b;
    color: white;
}
button {
    width: 100%;
    padding: 10px;
    background: #00bcd4;
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
}
button:hover {
    background: #0097a7;
}
p {
    margin-top: 10px;
    text-align: center;
    color: #00e676;
}
a {
    color: #00bcd4;
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
#registro { display: none; }
</style>
</head>
<body>

<div class="container">

    <!-- LOGIN -->
    <div id="login">
        <h2>Iniciar sesión</h2>
        <input type="text" id="login_usuario" placeholder="Usuario" required>
        <input type="password" id="login_password" placeholder="Contraseña" required>
        <button onclick="iniciarSesion()">Entrar</button>
        <p>¿No tienes cuenta? <a href="#" onclick="mostrarRegistro()">Registrate aquí</a></p>
        <p id="msgLogin"></p>
    </div>

    <!-- REGISTRO -->
    <div id="registro">
        <h2>Registrarse</h2>
        <input type="text" id="reg_usuario" placeholder="Usuario" required>
        <input type="password" id="reg_password" placeholder="Contraseña" required>
        <button onclick="registrar()">Crear cuenta</button>
        <p>¿Ya tienes cuenta? <a href="#" onclick="mostrarLogin()">Inicia sesión</a></p>
        <p id="msgRegistro"></p>
    </div>

</div>

<script>
// --- Inicializar Base de Datos Fake ---
if (!localStorage.getItem("usuarios")) {
    localStorage.setItem("usuarios", JSON.stringify([]));
}

// Cambiar entre login <-> registro
function mostrarRegistro() {
    document.getElementById("login").style.display = "none";
    document.getElementById("registro").style.display = "block";
}

function mostrarLogin() {
    document.getElementById("registro").style.display = "none";
    document.getElementById("login").style.display = "block";
}

// --- Registrar ---
function registrar() {
    let usuario = document.getElementById("reg_usuario").value.trim();
    let password = document.getElementById("reg_password").value.trim();

    if (usuario === "" || password === "") {
        document.getElementById("msgRegistro").textContent = "Completa todos los campos.";
        return;
    }

    let usuarios = JSON.parse(localStorage.getItem("usuarios"));

    // Ver si ya existe
    if (usuarios.some(u => u.usuario === usuario)) {
        document.getElementById("msgRegistro").textContent = "El usuario ya existe.";
        return;
    }

    // Guardar usuario
    usuarios.push({ usuario, password });
    localStorage.setItem("usuarios", JSON.stringify(usuarios));

    document.getElementById("msgRegistro").textContent = "Cuenta creada con éxito.";
}

// --- Iniciar sesión ---
function iniciarSesion() {
    let usuario = document.getElementById("login_usuario").value.trim();
    let password = document.getElementById("login_password").value.trim();

    let usuarios = JSON.parse(localStorage.getItem("usuarios"));

    let existe = usuarios.find(u => u.usuario === usuario && u.password === password);

    if (existe) {
        document.getElementById("msgLogin").textContent = "Inicio de sesión exitoso.";
    } else {
        document.getElementById("msgLogin").textContent = "Usuario o contraseña incorrectos.";
    }
}
</script>

</body>
</html>
